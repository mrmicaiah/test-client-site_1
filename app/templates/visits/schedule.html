{% extends "base.html" %}
{% block title %}Schedule Visits - MiKlean{% endblock %}

{% block header %}
<div class="flex items-center">
    <a href="{{ url_for('clients.view_client', client_id=client.id) }}" class="mr-4 text-gray-900">‚Üê</a>
    <div>
        <h1 class="text-2xl font-extrabold text-gray-900">Add to Schedule</h1>
        <p class="text-sm text-gray-700">{{ client.name }}</p>
    </div>
</div>
{% endblock %}

{% block bottom_nav %}{% endblock %}

{% block content %}
<form method="POST" class="space-y-4">
    <div>
        <label for="start_date" class="block text-sm font-semibold text-gray-600 mb-2">Start Date *</label>
        <input type="date" id="start_date" name="start_date" required
            class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-yellow-primary focus:outline-none">
    </div>
    
    <div>
        <label for="frequency" class="block text-sm font-semibold text-gray-600 mb-2">Frequency</label>
        <select id="frequency" name="frequency"
            class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-yellow-primary focus:outline-none">
            <option value="weekly" {% if estimate and estimate.frequency == 'weekly' %}selected{% endif %}>Weekly</option>
            <option value="biweekly" {% if estimate and estimate.frequency == 'biweekly' %}selected{% endif %}>Biweekly</option>
            <option value="monthly" {% if estimate and estimate.frequency == 'monthly' %}selected{% endif %}>Monthly</option>
            <option value="one_time" {% if estimate and estimate.frequency == 'one_time' %}selected{% endif %}>One-time</option>
        </select>
    </div>
    
    <div>
        <label for="preferred_day" class="block text-sm font-semibold text-gray-600 mb-2">Preferred Day</label>
        <select id="preferred_day" name="preferred_day"
            class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-yellow-primary focus:outline-none">
            <option value="">No preference</option>
            <option value="monday" {% if estimate and estimate.preferred_day == 'monday' %}selected{% endif %}>Monday</option>
            <option value="tuesday" {% if estimate and estimate.preferred_day == 'tuesday' %}selected{% endif %}>Tuesday</option>
            <option value="wednesday" {% if estimate and estimate.preferred_day == 'wednesday' %}selected{% endif %}>Wednesday</option>
            <option value="thursday" {% if estimate and estimate.preferred_day == 'thursday' %}selected{% endif %}>Thursday</option>
            <option value="friday" {% if estimate and estimate.preferred_day == 'friday' %}selected{% endif %}>Friday</option>
            <option value="saturday" {% if estimate and estimate.preferred_day == 'saturday' %}selected{% endif %}>Saturday</option>
            <option value="sunday" {% if estimate and estimate.preferred_day == 'sunday' %}selected{% endif %}>Sunday</option>
        </select>
    </div>
    
    <div>
        <label for="preferred_time" class="block text-sm font-semibold text-gray-600 mb-2">Time (optional)</label>
        <input type="time" id="preferred_time" name="preferred_time"
            class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-yellow-primary focus:outline-none">
    </div>
    
    <div class="bg-yellow-light rounded-xl p-4">
        <p class="text-sm text-gray-700">
            <strong>Note:</strong> This will create visits for the next 8 weeks. As you complete visits, new ones will be added automatically.
        </p>
    </div>
    
    <button type="submit" 
        class="w-full bg-yellow-primary text-gray-900 font-bold py-4 rounded-xl hover:bg-yellow-dark transition">
        Create Schedule
    </button>
</form>
{% endblock %}
